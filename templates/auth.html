<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Authentication | AI TestGen</title>

  <!-- Tailwind -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  
  <!-- Roboto Font -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

  <style>
    body {
      background: radial-gradient(circle at top left, #0f172a, #020617);
      font-family: 'Roboto', sans-serif;
    }

    .auth-card {
      background: rgba(30, 41, 59, 0.8);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 1rem;
      backdrop-filter: blur(16px);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5);
      overflow: hidden;
    }

    .tab-button {
      font-weight: 500;
      color: #d1d5db;
      border-radius: 0.5rem;
      transition: all 0.25s ease;
    }

    .tab-button.active {
      background: linear-gradient(90deg, #f97316, #fb923c);
      color: white;
      box-shadow: 0 0 15px rgba(251, 146, 60, 0.3);
    }

    .form-input {
      background-color: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 0.5rem;
      color: #f3f4f6;
      transition: all 0.2s ease;
    }

    .form-input:focus {
      border-color: #fb923c;
      box-shadow: 0 0 0 2px rgba(251, 146, 60, 0.25);
      outline: none;
    }

    .btn-primary {
      background: linear-gradient(90deg, #fb923c, #f97316);
      color: white;
      border-radius: 0.75rem;
      font-weight: 600;
      transition: all 0.25s ease;
      box-shadow: 0 4px 15px rgba(251, 146, 60, 0.3);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 25px rgba(251, 146, 60, 0.45);
    }

    .btn-secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #f3f4f6;
      border-radius: 0.75rem;
      transition: all 0.25s ease;
    }

    .btn-secondary:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    .divider {
      display: flex;
      align-items: center;
      text-align: center;
      margin: 1.5rem 0;
    }

    .divider::before,
    .divider::after {
      content: '';
      flex: 1;
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    }

    .divider:not(:empty)::before {
      margin-right: 0.75em;
    }

    .divider:not(:empty)::after {
      margin-left: 0.75em;
    }
  </style>
</head>

<body class="flex items-center justify-center min-h-screen p-6">

  <div class="w-full max-w-5xl grid grid-cols-1 md:grid-cols-2 gap-0 auth-card">

    <!-- Left: Student Portal -->
    <div id="student-portal" class="p-10 border-b md:border-b-0 md:border-r border-gray-700">
      <h2 class="text-3xl font-semibold text-center text-white mb-6">Student Portal</h2>

      <!-- Student Tabs -->
      <div class="grid grid-cols-2 gap-2 mb-6 bg-gray-800/50 p-1 rounded-lg">
        <button class="tab-button active py-2" onclick="switchTab('student-portal','student-login')">Sign In</button>
        <button class="tab-button py-2" onclick="switchTab('student-portal','student-signup')">Sign Up</button>
      </div>

      <!-- Login Form -->
      <form id="student-login" action="{{ url_for('login') }}" method="POST" class="space-y-4">
        <input type="hidden" name="role" value="student">
        <div>
          <label for="student-email" class="text-gray-300 text-sm font-medium">Email</label>
          <input id="student-email" name="email" type="email" required class="form-input w-full px-3 py-2 mt-1">
        </div>
        <div>
          <label for="student-password" class="text-gray-300 text-sm font-medium">Password</label>
          <input id="student-password" name="password" type="password" required class="form-input w-full px-3 py-2 mt-1">
        </div>
        <button type="submit" class="btn-primary w-full py-2 mt-3">Sign In</button>
      </form>

      <!-- Signup Form -->
      <form id="student-signup" action="{{ url_for('signup') }}" method="POST" class="space-y-4 hidden">
        <input type="hidden" name="role" value="student">
        <div>
          <label for="student-signup-email" class="text-gray-300 text-sm font-medium">Email</label>
          <input id="student-signup-email" name="email" type="email" required class="form-input w-full px-3 py-2 mt-1">
        </div>
        <div>
          <label for="student-signup-password" class="text-gray-300 text-sm font-medium">Password</label>
          <input id="student-signup-password" name="password" type="password" required class="form-input w-full px-3 py-2 mt-1">
        </div>
        <button type="submit" class="btn-primary w-full py-2 mt-3">Create Student Account</button>
      </form>

      <div class="divider text-gray-500 text-sm">or</div>

      <form action="{{ url_for('continue_as_guest') }}" method="POST">
        <button type="submit" class="btn-secondary w-full py-2">Continue as Guest</button>
      </form>
    </div>

    <!-- Right: Teacher Portal -->
    <div id="teacher-portal" class="p-10">
      <h2 class="text-3xl font-semibold text-center text-white mb-6">Teacher / Admin Portal</h2>

      <!-- Tabs -->
      <div class="grid grid-cols-2 gap-2 mb-6 bg-gray-800/50 p-1 rounded-lg">
        <button class="tab-button active py-2" onclick="switchTab('teacher-portal','teacher-login')">Sign In</button>
        <button class="tab-button py-2" onclick="switchTab('teacher-portal','teacher-signup')">Sign Up</button>
      </div>

      <!-- Login -->
      <form id="teacher-login" action="{{ url_for('login') }}" method="POST" class="space-y-4">
        <input type="hidden" name="role" value="teacher">
        <div>
          <label for="teacher-email" class="text-gray-300 text-sm font-medium">Email</label>
          <input id="teacher-email" name="email" type="email" required class="form-input w-full px-3 py-2 mt-1">
        </div>
        <div>
          <label for="teacher-password" class="text-gray-300 text-sm font-medium">Password</label>
          <input id="teacher-password" name="password" type="password" required class="form-input w-full px-3 py-2 mt-1">
        </div>
        <button type="submit" class="btn-primary w-full py-2 mt-3">Sign In as Teacher</button>
      </form>

      <!-- Signup -->
      <form id="teacher-signup" action="{{ url_for('signup') }}" method="POST" class="space-y-4 hidden">
        <input type="hidden" name="role" value="teacher">
        <div>
          <label for="teacher-signup-email" class="text-gray-300 text-sm font-medium">Email</label>
          <input id="teacher-signup-email" name="email" type="email" required class="form-input w-full px-3 py-2 mt-1">
        </div>
        <div>
          <label for="teacher-signup-password" class="text-gray-300 text-sm font-medium">Password</label>
          <input id="teacher-signup-password" name="password" type="password" required class="form-input w-full px-3 py-2 mt-1">
        </div>
        <button type="submit" class="btn-primary w-full py-2 mt-3">Create Teacher Account</button>
      </form>
    </div>
  </div>

  <script>
    function switchTab(portalId, activeFormId) {
      const portal = document.getElementById(portalId);
      const forms = portal.querySelectorAll('form[id]');
      const tabButtons = portal.querySelectorAll('.tab-button');

      forms.forEach(form => {
        form.classList.toggle('hidden', form.id !== activeFormId);
      });

      tabButtons.forEach(button => {
        const formId = button.getAttribute('onclick').split("'")[3];
        button.classList.toggle('active', formId === activeFormId);
      });
    }
  </script>
</body>
</html>
